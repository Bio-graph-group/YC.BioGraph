(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;$.Define($$,{YC:{BioGraph:{Client:{ChooseDefaultControl:function(p){var q;q=b.Do();return q.Delay(function(){var s,t,u,v,w,x;s=c.Select(0,p);t=d.WithTextLabel("Choose default",s);u=g.getFormSize(30,210);v=u[0];w=u[1];x=g.setFormSize(v,w,"select",t);return q.Bind(d.WithFormContainer(x),function(y){return q.Return(y);});});},FileControl:$.Field(function(){return b.OfElement(function(){var A;A=h.ofArray([k.Attr().NewAttr("type","file")]);return l.Tags().NewTag("input",A);});}),InputControl:function(B,C){var D,E,P;D=b.Do();E=D.Delay(function(){var G,H,I,J,K,L;G=c.TextArea("");H=d.WithTextLabel(B,G);I=d.WithLabelAbove(H);J=g.getFormSize(85,500);K=J[0];L=J[1];return D.Bind(g.setFormSize(K,L,"textarea",I),function(M){return D.Bind(g.FileControl(),function(N){return D.Bind(g.ChooseDefaultControl(C),function(O){return D.Return([M,N,O]);});});});});P=b.Vertical(E);return d.WithFormContainer(P);},Main:function(){var Q;Q=h.ofArray([g.frm().Run(function(){return null;})]);return l.Tags().NewTag("div",Q);},OutputControl:$.Field(function(){var S,T;S=b.Do();T=S.Delay(function(){var V,W,X,Y,Z,_0;V=c.ReadOnlyTextArea("");W=d.WithTextLabel("Output",V);X=d.WithLabelAbove(W);Y=g.getFormSize(85,500);Z=Y[0];_0=Y[1];return S.Bind(g.setFormSize(Z,_0,"textarea",X),function(_1){var _2,_3;_2=c.Checkbox(false);_3=d.WithTextLabel("wrap",_2);return S.Bind(d.WithLabelLeft(_3),function(_4){return S.Return([_4,_1]);});});});return d.WithFormContainer(T);}),RangeControl:$.Field(function(){var _5,_6,bj,bk,bl;_5=b.Do();_6=_5.Delay(function(){var _8,_9,_,ba,bb;_8=c.Input("");_9=d.WithTextLabel("from",_8);_=g.getFormSize(30,210);ba=_[0];bb=_[1];return _5.Bind(g.setFormSize(ba,bb,"input",_9),function(bc){var bd,be,bf,bg,bh;bd=c.Input("");be=d.WithTextLabel("to",bd);bf=g.getFormSize(30,210);bg=bf[0];bh=bf[1];return _5.Bind(g.setFormSize(bg,bh,"input",be),function(bi){return _5.Return([bc<<0,bi<<0]);});});});bj=b.Horizontal(_6);bk=d.WithTextLabel("String range",bj);bl=d.WithLabelAbove(bk);return d.WithFormContainer(bl);}),ShowImageControl:$.Field(function(){var bl,bp,bq;bl=b.OfElement(function(){var bn,bo;bn="height: "+(g.getFormSize(315,315))[0]+"; width: "+(g.getFormSize(315,315))[0];bo=h.ofArray([k.Attr().NewAttr("style",bn),k.Attr().NewAttr("src","graph(kindof).jpg")]);return l.Tags().NewTag("img",bo);});bp=d.WithTextLabel("Graph visualisation",bl);bq=d.WithLabelAbove(bp);return d.WithFormContainer(bq);}),frm:$.Field(function(){var br,bs,bB,bC,bD,bH,bI,bJ,bK,bO,bP,bQ;br=b.Do();bs=br.Delay(function(){return br.Bind(g.InputControl("Grammar",h.ofArray([["Grammar 1",""],["Grammar 2",""],["Grammar 3",""]])),function(bu){return br.Bind(g.InputControl("Graph",h.ofArray([["Graph 1",""],["Graph 2",""],["Graph 3",""]])),function(bv){return br.Bind(g.RangeControl(),function(bw){var bx,by,bz;bx=c.Checkbox(false);by=d.WithTextLabel("DRAW GRAPH",bx);bz=d.WithLabelLeft(by);return br.Bind(d.WithFormContainer(bz),function(bA){return br.Return([bu,bv,bw,bA]);});});});});});bB=b.Vertical(bs);bC=b.Do();bD=bC.Delay(function(){return bC.Bind(g.ShowImageControl(),function(bF){return bC.Bind(g.OutputControl(),function(bG){return bC.Return([bF,bG]);});});});bH=b.Vertical(bD);bI="background-color: #FF1493; border-width: 3px; border-color: #000000; height: "+(g.getFormSize(40,80))[0]+"; width: "+(g.getFormSize(40,80))[1]+"; font-size:"+(g.getFormSize(30,80))[0];bJ=b.Do();bK=bJ.Delay(function(){return bJ.Bind(bB,function(bM){return bJ.Bind(bH,function(bN){return bJ.Return([bM,bN]);});});});bO=b.Horizontal(bK);bP=m.get_Default();bQ=$.New(m,{Label:{$:1,$0:"GO"},Style:{$:1,$0:bI},Class:bP.Class});return d.WithCustomSubmitButton(bQ,bO);}),getFormSize:function(bR,bS){var bT,bU;bT=bR*g.screenHeight()/648>>0;bU=bS*g.screenWidth()/1366>>0;return[n(bT)+"px",n(bU)+"px"];},screenHeight:$.Field(function(){return o("html").height();}),screenWidth:$.Field(function(){return o("html").width();}),setFormSize:function(bV,bW,bX,bY){var bZ;bZ=function(b0){o(b0.Dom.querySelector(bX)).css("height",bV).css("width",bW);return b0;};return b.MapElement(bZ,bY);}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Formlets);b=$.Safe(a.Formlet);c=$.Safe(a.Controls);d=$.Safe(a.Enhance);e=$.Safe($$.YC);f=$.Safe(e.BioGraph);g=$.Safe(f.Client);h=$.Safe($$.WebSharper.List);i=$.Safe($$.WebSharper.Html);j=$.Safe(i.Client);k=$.Safe(j.Attr);l=$.Safe(j.Tags);m=$.Safe(d.FormButtonConfiguration);n=$.Safe($$.String);return o=$.Safe($$.jQuery);});$.OnLoad(function(){g.screenWidth();g.screenHeight();g.frm();g.ShowImageControl();g.RangeControl();g.OutputControl();g.FileControl();return;});}());
